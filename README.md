# 7 Billion Humans Solutions                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                
These are my solutions to the programming-themed game "7 Billion Humans".                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                
You can import them into the game by selecting the code and then clicking the "Paste" button on the game's editor. It wasn't always possible to achieve both size and speed optimizations in the same program so some are split up into separate programs.                                      
                                                                                                                                                                                                                                                                                                
The solutions cover all size and speed optimizations ("OCD"s) for all levels. Enjoy!                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                
|Level                                          |Size/Target    |Speed/Target   | Comment                                                                                                                                                                                                                
|-----------------------------------------------|---------------|---------------|-----------------------------------------------------------|                                                                                                                                                            
|02 - Welcome New Employees                     |3/3            |**1/2**        |  Tutorial |                                                                                                                                                            
|03 - Transport Squad                           |5/5            |2/2            |                                                           |                                                                                                                                                            
|04 - Long Distance Delivery                    |4/4            |**6/7**        |                                                           |                                                                                                                                                            
|05 - An Important Decision                     |5/5            |**2/3**        |                                                           |                                                                                                                                                            
|06 - Little Exterminator 1                     |9/9            |**3/4**        |                                                           |                                                                                                                                                            
|07 - Collation Station (size)                  |5/5            |14/6           |                                                           |                                                                                                                                                            
|07 - Collation Station (speed)                 |**5/11**       |**5/6**        |                                                           |                                                                                                                                                            
|09 - Dynamic Angles (size)                     |5/5            |**6/13**       |                                                           |                                                                                                                                                            
|09 - Dynamic Angles (speed)                    |7/5            |**5/6**        |                                                           |                                                                                                                                                            
|10 - Emergency Escapades (size)                |9/9            |208/25         |                                                           |                                                                                                                                                            
|10 - Emergency Escapades (speed)               |33/9           |**24/25**      |                                                           |                                                                                                                                                            
|11 - Injection Sites 1 (size)                  |5/5            |10/7           |                                                           |                                                                                                                                                            
|11 - Injection Sites 1 (speed)                 |11/5           |**6/7**        |                                                           |                                                                                                                                                            
|12 - Unzip (size)                              |**7/8**        |12/7           |                                                           |                                                                                                                                                            
|12 - Unzip (speed)                             |11/8           |7/7            |                                                           |                                                                                                                                                            
|13 - Injection Sites 2 (size)                  |10/10          |160/55         |                                                           |                                                                                                                                                            
|13 - Injection Sites 2 (speed)                 |29/10          |**10/55**      |                                                           |                                                                                                                                                            
|14 - Intro to Shredding (size)                 |4/4            |4/3            |                                                           |                                                                                                                                                            
|14 - Intro to Shredding (speed)                |5/4            |**2/3**        |                                                           |                                                                                                                                                            
|15 - Shred Lines (size)                        |9/9            |31/23          |                                                           |                                                                                                                                                            
|15 - Shred Lines (speed)                       |51/9           |**20/23**      |                                                           |                                                                                                                                                            
|16 - Little Exterminator 2 (size)              |8/8            |19/9           |                                                           |                                                                                                                                                            
|16 - Little Exterminator 2 (speed)             |28/8           |**8/9**        |                                                           |                                                                                                                                                            
|17 - Content Creators                          |1/1            |**2/3**        |                                                           |                                                                                                                                                            
|18 - Uniquely Disposed                         |7/7            |12/12          |                                                           |                                                                                                                                                            
|19 - Content Creators Bug Fix                  |4/4            |**26/27**      |                                                           |                                                                                                                                                            
|20 - Reverse Line (size)                       |9/9            |11/11          |                                                           |                                                                                                                                                            
|20 - Reverse Line (speed)                      |57/9           |**5/11**       |                                                           |                                                                                                                                                            
|21 - Big Data (size)                           |8/8            |53/32          |                                                           |                                                                                                                                                            
|21 - Big Data (speed)                          |8/8            |32/32          |                                                           |                                                                                                                                                            
|22 - Number Royale                             |6/6            |**9/11**       |                                                           |                                                                                                                                                            
|23 - Sorting Hall                              |6/6            |**25/26**      |                                                           |                                                                                                                                                            
|24 - Budget Brigade 1 (size)                   |**6/7**        |121/50         |                                                           |                                                                                                                                                            
|24 - Budget Brigade 1 (speed)                  |22/7           |**49/50**      |                                                           |                                                                                                                                                            
|25 - My First Shredding Memory (size)          |5/5            |139/132        |                                                           |                                                                                                                                                            
|25 - My First Shredding Memory (speed)         |8/5            |132/132        |                                                           |                                                                                                                                                            
|26 - Budget Brigade 2 (size)                   |10/10          |183/70         |                                                           |                                                                                                                                                            
|26 - Budget Brigade 2 (speed)                  |19/10          |**69/70**      |                                                           |                                                                                                                                                            
|28 - Neural Pathways                           |4/4            |51/51          |                                                           |                                                                                                                                                            
|29 - Biometric Access                          |5/5            |60/61          |                                                           |                                                                                                                                                            
|30 - Fill the Floor (size)                     |6/6            |477/170        |                                                           |                                                                                                                                                            
|30 - Fill the Floor (speed)                    |63/6           |**155/170**    |                                                           |                                                                                                                                                            
|31 - Checkerboard Organization (size)          |7/7            |126/100        |                                                           |                                                                                                                                                            
|31 - Checkerboard Organization (speed)         |8/7            |**93/100**     |                                                           |                                                                                                                                                            
|32 - Creative Writhing (size)                  |6/6            |303/39         |                                                           |                                                                                                                                                            
|32 - Creative Writhing (speed)                 |193/6          |**31/39**      |                                                           |                                                                                                                                                            
|33 - Data Backup Day (size)                    |**7/8**        |15/3           |                                                           |                                                                                                                                                            
|33 - Data Backup Day (speed)                   |12/8           |3/3            |                                                           |                                                                                                                                                            
|34 - Seek and Destroy 1 (size)                 |9/9            |21/21          |                                                           |                                                                                                                                                            
|34 - Seek and Destroy 1 (speed)                |10/9           |**18/21**      |                                                           |                                                                                                                                                            
|35 - Intro to Calc for Art Majors              |4/4            |4/4            |                                                           |                                                                                                                                                            
|36 - Seek and Destroy 2 (size)                 |10/10          |148/145        |                                                           |                                                                                                                                                            
|36 - Seek and Destroy 2 (speed)                |13/10          |**138/145**    |                                                           |                                                                                                                                                            
|37 - Dangerous Spreadsheeting (size)           |13/13          |34/32          | This uses a convention of "use the row below" to avoid holes in the floor. |                                                                                                                                                            
|37 - Dangerous Spreadsheeting (speed)          |18/13          |32/32          | Same as size but a bit of unrolling. |                                                                                                                                                            
|38 - Seek and Destroy 3 (size)                 |**16/22**      |143/33         | This approach is one worker's traversal of all the cubes, keeping track of the smallest-seen-so-far in mem4. Only one worker is effective in the algorithm, the rest are "along for the ride" since I didn't code anything to account for them. The game doesn't seem to care if they go in the shredder, and long as one worker survives and target cube does go in the shredder.|                                                                                                                                                            
|38 - Seek and Destroy 3 (speed)                |73/22          |**30/33**      | The workers for each column write the smallest-in-each-column at the bottm, then one extra worker sweeps across and grabs the smallest of those for the shredder. There is done with no synchronization, there is some RNG concerning when that last worker arrives along the bottom, so the solution is not 100%. |                                                                                                                                                            
|39 - Printing Etiquette 1 (size).              |9/9            |115/55         | Workers wander around in random directions until they drop off the required amount of cubes. |                                                                                                                                                            
|39 - Printing Etiquette 1 (speed)              |182/9          |**43/55**      | Some hard coded paths. |                                                                                                                                                            
|40 - Printing Etiquette 2 (size)               |10/10          |150/55         | Some RNG for how long it takes to drop off the required number of cubes. |                                                                                                                                                            
|40 - Printing Etiquette 2 (speed)              |207/10         |**43/55**      | Bunch of hard coded paths. |                                                                                                                                                            
|41 - Image Decrypter (size)                    |8/8            |68/15          | This program has a compacted "jump into the hole" setup by zig-zagging upward, recycling the "step left" used for the main decryption thing.  |                                                                                                                                                            
|41 - Image Decrypter (speed)                   |119/8          |8/8            | Everything unrolled. |                                                                                                                                                            
|42 - Important Email Organization (size)       |18/18          |455/200        | Similar to the speed-optimized program. A big difference is that the travel-time away from the shredders is a loop-to-the-top-wall rather than a bunch of unrolled steps. |                                                                                                                                                            
|42 - Important Email Organization (speed)      |26/18          |200/200        | Slightly RNG-based. Using "nearest cube" to decide what to pick up next is great, but there is some complication there to prevent workers from picking up the labels.|                                                                                                                                                            
|43 - Multiplication Table (size)               |11/11          |67/53          | This program exploits the fact that you have 10 workers (for numbers 1-9), nicely lined up below the table header which can be used to set up an accumulatior. |                                                                                                                                                            
|43 - Multiplication Table (speed)              |50/11          |**52/53**      | This is set up similarly to the size-optimized program, but unrolled. Also, workers get their ID based on the row headers not the column headers since it's less travel time. |                                                                                                                                                            
|44 - Unique Fashion Party (size).              |11/11          |108/75         |  This is a cool level concept, the shape of the level gives you ideas for how to do it. See there are 6 possible numbers, and the right hand area is 6 squares wide. The idea here is to have one worker blockade the area for each datacube number, and any worker approaching a blockaded space should jump down the hole. |                                                                                                                                                            
|44 - Unique Fashion Party (speed)              |44/11          |**57/75**      |  This used the size optimization program as a starting point. It special cased two things. First, the movement N squares to the right for workers holding data cube N. Second, earlying-out non-unique workers using the "divide by zero" trick. I think the "divide by zero" trick is kind of hacks, but the game accepts it so I guess it works. See the level requires that non-unique workers are killed but it **doesn't** care how. They don't necessarily have to do it by jumping in the holes. A quick way, it happens, is to divide 0/0 since it causes a worker to 'splode.|                                                                                                                                                            
|46 - Compulsory Office Romance                 |7/7            |15/15          |  Introduction level for worker-to-worker tell/listen |                                                                                                                                                            
|47 - Automated Pleasantries                    |3/3            |**7/8**        |  Another level for using worker-to-worker tell/listen |                                                                                                                                                            
|48 - Community Training Day                    |6/6            |**7/8**        |  Introduction level for "Tell (everyone)" |                                                                                                                                                            
|49 - Double Sided Destruction                  |**6/7**        |**15/17**      |  This was weirdly fussy... the idea here is to "pull back" the middle workers so the outside ones necessarily get to the shredder first. I think this program feels hazardous by design because there is nothing necessarily dictating that the left side arrive first, but it is that way because the shredder is aligned 1 cube to the left of the middle of the line. |                                                                                                                                                            
|50 - Cubical Communication (size)              |**11/12**      |117/60         |  Tell/listen synch is used here to keep a lock around each worker's printing and shredding together. It's convenient how each worker has an "ID" (the page to the southwest of them) for free. You can use the ID to drive the number of listens, and thus the ordering of worker unblock. |                                                                                                                                                            
|50 - Cubical Communication (speed)             |55/12          |**38/60**      |  This exploits the fact that printing and shredding take an equal amount of time. Workers are paired off; one shreds while the other prints and there's no synchronization needed to prevent the shredder usages from overlapping. |                                                                                                                                                            
|51 - Identify Yourselves (size)                |7/7            |42/27          |  This solution writes the ID numbers left-to-right. It uses a spin-lock to wait until the previous cube value is computed before starting. |                                                                                                                                                            
|51 - Identify Yourselves (speed)               |21/7           |**20/27**      |  This solution is like the size one, but better parallelized- left half and right half are computed simultaneously.|                                                                                                                                                            
|52 - The Mode Code (size)                      |**23/24**      |309/158        |  Size program used as a starting point; the process of "assigning each number to a worker" is optimized by exploiting the positions of workers and layout of the level. |                                                                                                                                                            
|52 - The Mode Code (speed)                     |51/24          |**153/158**    |  This follows the robot boss man's advice: each worker is assigned a number, and traverses the cubes in the top area for instances of that number.|                                                                                                                                                            
|53 - 100 - Cubes on the Floor (size)           |**9/16**       |1174/80        |  Simple single-threaded program, eliminates the need to communicate "which numbers are available?" globally. |                                                                                                                                                            
|53 - 100 - Cubes on the Floor (speed)          |79/16          |**47/80**      |  It would be sort of cool if it were possible to hard-code every number written in this level, but due to the program length limit (~230) that isn't possible. A reasonable middle ground, though, is to hardcode the multiple-of-ten for each row and use the fact that there is one worker per row. |                                                                                                                                                            
|54 - Terrain Leveler (size)                    |**22/26**      |110/90         |  The approach here is to have all workers calculate the total for their column, have one worker compute the average, and then the other workers will write that broadcasted average everywhere. I had to massage the program a lot to get it to a compact form so it does not look very intuitive.|                                                                                                                                                            
|54 - Terrain Leveler (speed)                   |67/26          |**88/90**      |  Used the size solution as a starting point then unrolled a bunch of loops. |                                                                                                                                                            
|55 - Data Flowers                              |8/8            |25/25          |  There's some open-endedness in getting a worker to each square-of-cubes. Conveniently, though, they each only have to move up (and not left or right). |                                                                                                                                                            
|56 - Local Maximums                            |8/8            |**13/14**      |  Opportunity to use forEachDir |                                                                                                                                                            
|57 - Neighborly Sweeper (size)                 |**12/16**      |194/100        |  This program has workers wandering around, summing the number of adjacent cubes and updating the one they're standing on. There's a potential hazard when an adjacet cube is being updated by a worker, so this solution is not correct in 100% of cases. Surpringly, that situation doesn't crop up as often as you'd think. |                                                                                                                                                            
|57 - Neighborly Sweeper (speed)                |220/16         |**32/100**     |  Hard-coded paths exploiting the layout of the cubes, only uses 5 of the workers, could be optimized to use more of them. |                                                                                                                                                            
|58 - Good Neighbors (size).                    |10/10          |726/175        |  Slow but works. The workers will randomly carry cubes out of crowded spaces into less-crowded ones. "Crowded" is determined by using forEachDir to tally up the number of adjacet cubes. |                                                                                                                                                            
|58 - Good Neighbors (speed)                    |54/10          |**11/175**     |  Exploits the fact that we know the layout of the level. There's lots of space in the level so I didn't spend a lot of effort on getting precise placements of cubes.. |                                                                                                                                                            
|59 - Glory Hole (size)                         |7/7            |60/15          |  The idea is to: go toward the lowest adjacent number, or the nearest hole if we're standing on a 1. This progrma idea is made compact by use of forEachDir. |                                                                                                                                                            
|59 - Glory Hole (speed)                        |76/7           |**10/15**      |  Hard-coded path exploiting the layout of the level. |                                                                                                                                                            
|60 - Understaffed Sorting (size)               |**11/12**      |632/200        |  The approach here is to identify out-of-order cubes, and initiate a process for swapping their order. I started with a pretty intuitive program and factored and factored until the result is compact but doesn't look very intuitive. |                                                                                                                                                            
|60 - Understaffed Sorting (speed)              |14/12          |**197/200**    |  This solution is a non-general heuristic, very RNG oriented. The idea is to identify out-of-order cubes, position the worker above the left-hand-size one, and straightforwardly swap them. The RNG affects how effective the swaps are. |                                                                                                                                                            
|61 - Lazy Pathways (size).                     |11/11          |615/250        |  A chance to use forEachDir in a non-tutorial setting, woot|                                                                                                                                                            
|61 - Lazy Pathways (speed)                     |201/11         |**58/250**     |  Hard-coded paths, exploits the fact that you know the layout of the level. I didn't try super hard at this one, it could be optimized further. |                                                                                                                                                            
|62 - The Sorting Floor (size).                 |**46/48**      |316/174        |  Single-threaded program, exploits the fact that you're sorting 9 cubes in a particular location. My idea was to have one worker stand in the middle of the cubes and do all the comparisons, then use the "nearest" to try and do a swap. Getting the size optimization was an issue of getting the swap as compact as possible.|                                                                                                                                                            
|62 - The Sorting Floor (speed)                 |120/48         |**141/174**    |  This uses the size-optimized program as a starting point. It's laid out the same way but the swaps are special-cased to be as fast as possible.|                                                                                                                                                            
|63 - Defrag Disordered (size).                 |**24/28**      |388/95         |  Single-threaded. Meh. |                                                                                                                                                            
|63 - Defrag Disordered (speed)                 |33/28          |**12/95**      |  Cheesy, exploits the fact that the layout of the cubes is fixed. |                                                                                                                                                            
|64 - Binary Counter (size)                     |17/17          |96/54          |  A slimming technique here was to have the button worker stay on the button all the time, and move off of it when signaled (rather than the other way around) since then the two initial steps can stay general. Also, the button-workers manner of signaling the rightmost sensor worker can be the same "tell" as the one sensor workers use for each other.|                                                                                                                                                            
|64 - Binary Counter (speed)                    |28/17          |**40/54**      |  This approach has the right-most sensor worker driving everything, while the other sensor workers busy-spin for the right time to update. From experimenting, the busy-spin appeared to be faster than tell/listen synch. Also, my intial attempt tried to communicate a "carry" bit through positioning of a sensor worker above or below the sensor, but it turns out with the right chain of spinning-and-waiting it's not necessary.|                                                                                                                                                            
|65 - Defrag Ordered (size)                     |**23/25**      |922/500        |  Slow and not at all parallel, I feel guilty about it. |                                                                                                                                                            
|65 - Defrag Ordered (speed)                    |144/25         |**22/500**     |  Hard-coded paths which exploit how the layout of the cubes on the board never changes. This only uses three workers, but could be expanded to use all four.|                                                                                                                                                            
|66 - Decimal Counter (size)                    |23/23          |206/120        |  I did this one by special casing the "rightmost sensor worker" from "other sensor workers", then refactoring repeatedly until they all run the same code. The result is functionally equivalent while doesn't look very intuitive. |                                                                                                                                                            
|66 - Decimal Counter (speed)                   |79/23          |**118/120**    |  This solution was to not make a general purpose counter, but something for the specific circumstances of the problem. It's completely silly and single-threaded.|                                                                                                                                                            
|67 - Decimal Doubler (size)                    |**24/25**      |**241/250**    |  This uses the "alternate" solution as a starting point, going with the idea of trying to avoid synchronization between the sensor workers in between numbers so that it will cut down some bloat of the program. And similarly to that one, there are some dummy calc instructions to make sure sensor workers run exactly in parallel. |                                                                                                                                                          
|67 - Decimal Doubler (speed)                   |41/25          |**219/250**    |  This used the size optimization version as a starting point, where the values 1, 2, 4, 8 are special-cased for a bit of a speed boost.|                                                                                                                                                        
|67 - Decimal Doubler (alternate)               |158/25         |331/250        |  This solution didn't make the size or speed targets but I think the approach is cool so I'm keeping it. The idea here was to have **all** workers compute a running accumulator of the current power of two, and then use a poor man's bit shift to isolate the digit for their place value (e.g., ones, tens, hundreds). It's set up so all of these happen exactly in parallel with no synchronization between workers. It's worth pointing out that while you can only load a mem with literal values up to 99, mems can store values way higher than that- high enough so that there isn't some numerical limit holding back this approach. Anyway the calc instructions are, incidentally, what kills the speed. I still think the concept is cool. Since the button-operator is set up to idle around for exactly-the-right-amount-of-time, there is not much synchronization between workers at all.|                                                                                                                                                                
|68 - Goodbye Humans (size)                     |9/9            |107/50         |  There were two tough things. First, finding the most compact way to avoid hazardous holes, but permit the target hole. To do this I tried to exploit that multiple clauses if-ed together still count as one instruction. Second, the last one out needs to use the "tell" instruction. For this, I used a heuristic in the form of a many-clause if statement. The heuristic is just a heuristic, and won't be valid in 100% of cases. It makes the target so for now it's good enough. One thing that was good was to scope the "am I the last one out?" check down to happen in only a narrow set of circumstances.|                                                                                                                                                          
|68 - Goodbye Humans (speed)                    |24/9           |**49/50**      |  The bottleneck here is it's hard to make a general path where workers won't constantly run into each other. I used the size-optimization solution as a starting point, and started special-casing more things, fussing with it until it came under time. Very much an ugly and not a scientific process. |                                                                                                                                                            
                                                                                                                                                                                            